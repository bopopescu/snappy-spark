description = 'Spark Project External Kafka Assembly'

dependencies {
  compile project(subprojectBase + 'snappy-spark-streaming-kafka_' + scalaBinaryVersion)
  provided project(subprojectBase + 'snappy-spark-streaming_' + scalaBinaryVersion)

  provided(group: 'commons-codec', name: 'commons-codec', version:'1.10')
  provided(group: 'commons-lang', name: 'commons-lang', version:'2.6')
  provided(group: 'com.google.protobuf', name: 'protobuf-java', version:'2.5.0')
  provided(group: 'com.sun.jersey', name: 'jersey-server', version:'1.9')
  provided(group: 'com.sun.jersey', name: 'jersey-core', version:'1.9')
  provided(group: 'net.jpountz.lz4', name: 'lz4', version:'1.3.0')
  provided(group: 'org.apache.hadoop', name: 'hadoop-client', version:hadoopVersion) {
    exclude(group: 'asm', module: 'asm')
    exclude(group: 'org.codehaus.jackson', module: 'jackson-mapper-asl')
    exclude(group: 'org.ow2.asm', module: 'asm')
    exclude(group: 'org.jboss.netty', module: 'netty')
    exclude(group: 'commons-logging', module: 'commons-logging')
    exclude(group: 'org.mockito', module: 'mockito-all')
    exclude(group: 'org.mortbay.jetty', module: 'servlet-api-2.5')
    exclude(group: 'javax.servlet', module: 'servlet-api')
    exclude(group: 'junit', module: 'junit')
  }
  provided(group: 'org.apache.avro', name: 'avro-mapred', version:'1.7.7', classifier:'hadoop2') {
    exclude(group: 'org.jboss.netty', module: 'netty')
    exclude(group: 'org.mortbay.jetty', module: 'jetty')
    exclude(group: 'org.mortbay.jetty', module: 'jetty-util')
    exclude(group: 'org.mortbay.jetty', module: 'servlet-api')
    exclude(group: 'org.apache.velocity', module: 'velocity')
  }
  provided(group: 'org.apache.curator', name: 'curator-recipes', version:'2.4.0') {
    exclude(module: 'netty')
  }
  provided(group: 'org.apache.zookeeper', name: 'zookeeper', version:'3.4.5')
  provided(group: 'log4j', name: 'log4j', version:'1.2.17')
  provided(group: 'net.java.dev.jets3t', name: 'jets3t', version:'0.9.3') {
    exclude(module: 'commons-logging')
  }
  provided(group: 'org.scala-lang', name: 'scala-library', version: scalaVersion)
  provided(group: 'org.slf4j', name: 'slf4j-api', version: slf4jVersion)
  provided(group: 'org.slf4j', name: 'slf4j-log4j12', version: slf4jVersion)
  provided(group: 'org.xerial.snappy', name: 'snappy-java', version:'1.1.1.7')
}

// TODO: shade plugin
